## 目录

- [1.MySQL常见存储引擎的区别？](#1MySQL常见存储引擎的区别)
- [2.为什么使用索引？](#2为什么使用索引)
- [3.使用索引注意事项？](#3使用索引注意事项)
- [4.索引的分类？](#4.索引的分类)
- [5.MySQL索引使用的数据结构？](#5MySQL索引使用的数据结构)
- [6.B树和B+树区别？](#6B树和B+树区别)
- [7.事务的ACID？](#7事务的ACID)
- [8.并发一致性问题？](#8并发一致性问题)
- [9.隔离级别？](#9隔离级别)
- [10.一二三范式？](#10一二三范式)
- [11.数据库实体间的关系？](#11数据库实体间的关系)
- [12.主从复制读写分离原理？](#12主从复制读写分离原理)

---

### 1.MySQL常见存储引擎的区别？

1）InnoDB支持事务，MyISAM不支持事务。

2）InnoDB既有表锁又有行锁，MyISAM锁的粒度是表级。

3）InnoDB支持外键，MyISAM不支持外键。

4）MyISAM崩溃后数据发生的损坏概率比InnoDB高很多，而且恢复速度也很慢。

5）MyISAM支持表压缩。

InnoDB适合写密集型的表，MyISAM适合读密集型的表，它的性能比较好。	

### 2.为什么使用索引？

1）加快数据库的检索速度。

2）创建唯一索引，可以保证数据表中每行数据的唯一性。

3）加快表与表之间的连接查询速度。

### 3.使用索引注意事项？

1）在查询时，索引不能作为表达式的一部分，也不能作为函数的参数，否则无法使用索引。

2）使用多个列作为条件查询时，使用多列索引比使用单列索引性能好。

3）查询时，让选择性强的索引列放在前面。

### 4.索引的分类？

InnoDB主键使用的是聚簇索引，MyISAM使用的是非聚簇索引。

（聚簇索引：将数据和索引一起存储，非聚簇索引：将索引和数据分开存储）

唯一索引：表中任意两行的索引值都不相等。

主键索引：主键就是唯一索引，但是唯一索引不一定是主键。

复合索引：多个主键上建立联合的唯一索引。

### 5.MySQL索引使用的数据结构？

MySQL底层使用的是B+树作为索引。

### 6.B树和B+树区别？

1）B树每个节点都存储了key和data，B+树的data只存储在叶子节点上。

节点不存储data，就可以存储更多的key，使得树变矮，查询操作效率更高，执行的越快。

2）树的所有叶子节点构成了一个有序列表，可以按照关键码的次序遍历全部记录。

由于数据顺序排列并相连，所以便于区间查找和搜索。而B树需要每一层的递归遍历。

### 7.事务的ACID？

原子性：一个事务中的所有操作，要么全部完成，要么全部失败。

一致性：事务开始前和事务结束后，数据库的状态保持不变。

隔离性：一个事务所做的修改，在最终提交前，对其他事务是不可见的。

持久性：事务一旦提交，所做的修改将会永远被保存到数据库。

### 8.并发一致性问题？

**脏读：** T1事务修改了数据，随后T2事务读取了这个数据，但是如果T1事务撤销了这次修改，那么T2事务所读取的数据就是脏数据。

**不可重复度：** T1事务读取了数据，T2事务修改了数据，T1事务再次读取数据，此时读取的数据和第一次读取的不同，这就是不可重复读。

**幻读：** T1事务读取某个范围的数据，T2事务向这个范围内插入新数据，T1事务再次读取这个范围的数据，此时和第一次读取的结果不同，这就是幻读。

### 9.隔离级别？

**未提交读：** 事务中对数据的修改，即使没有提交，对其它事务也是可见的。

**提交读：** 一个事务只能读取已经提交的事务所做的修改数据。

**可重复读：** 一个事物多次读取同样数据的结果是一样的。MySQL默认个隔离级别。

**可串行化：** 强制事务按照先后顺序进行串行执行。

### 10.一二三范式？

**第一范式：** 属性不可再分。

**第二范式：** 任何非主属性完全依赖于主属性，而不能只依赖主键的一部分。

**第三范式：** 第三范式是第二范式的一个子集，任何非主属性不依赖于其他非主属性，在第二范式的基础上，消除传递依赖。

### 11.数据库实体间的关系？

一对一关系；

一对多关系；

多对多关系；

### 12.主从复制读写分离原理？

主服务器使用InnoDB引擎处理写操作以及实时性要求比较高的读操作；

从服务器使用MyISAM引擎处理读操作。

**读写分离提供性能原因：** 

- 主从服务器负责各自的读和写，极大的缓解了锁的竞争。
- 从服务器使用MyISAM，提升查询性能以及节约系统的开销。
- 增加冗余，提高可用性。



